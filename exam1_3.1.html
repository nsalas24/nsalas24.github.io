<!DOCTYPE html>
<html>
    <head>
        <meta charset=UTF-8">
		<meta charset="utf-8">
		<title>Exam 1 Question 3.1 Noah Salas </title>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<style type="text/css">
body{
margin: auto;
}
			
.axis path,
.axis line {
fill: none;
stroke: black;
shape-rendering: crispEdges;
}

h4 {
margin: 0 auto;
}
			
.axis text {
font-family: arial;
font-size: 11px;
}
</style>
	</head>
		<body>
			<h4>Seniors in IE by Unviersity</h4>	
			<script type="text/javascript">
			//Ran out of time. I used a lot of code from the book, in chapter 6.
			//Citation: Murray, S. (2013). Chapter 6: Drawing Data. In Interactive data visualization for the web. O'Reilly Media.
			var margin = {top: 50, right: 50, bottom: 50, left: 50},
				w = 600- margin.left - margin.right,
				h = 400 - margin.top - margin.bottom;
			var barPadding = 10;
			var dataset;
			
			d3.json("https://hivelab.org/static/exam1.json", function(data) {
				dataset = data;
				seniordata = [dataset[3]["University A"],  dataset[3]["University B"],dataset[3]["University C"],dataset[3]["University D"],dataset[3]["University E"]];
			
			//Adding in scales		 
			var xScale = d3.scale.ordinal()
				.domain(["University A" , "University B", "University C","University D" , "University E" ])
				.rangeBands([0, w]);
				
			var yScale = d3.scale.linear()
				.domain([0, 300])
				.range([h - barPadding, barPadding]);

			var xAxis = d3.svg.axis()
					.scale(xScale)
					.orient("bottom");
			
			var yAxis = d3.svg.axis()
					.scale(yScale)
					.orient("left");
				
			
			var svg = d3.select("body")
					.append("svg")
					.attr("width", w)
					.attr("height", h);
			//Adding bars		
			svg.selectAll("rect")
				   .data(seniordata)
				   .enter()
				   .append("rect")
				   .attr("x", function(d, i) {
						return i * (w/seniordata.length) + 30;
				   })
				   .attr("y", function(d) {
						return h - (d * 2) - 20;

				  
				   })
				   .attr("width",w /seniordata.length - barPadding)
				   .attr("height", function(d) {
						return d * 2;
				   })
				   .attr("fill", function(d) {
						return "rgb(0, 0, " + (d * 2) + ")";
						   });
			//Adding labels			
			svg.selectAll("text")
				   .data(seniordata)
				   .enter()
				   .append("text")
				   .text(function(d) {
						return d;
				   })
				   .attr("text-anchor", "middle")
				   .attr("x", function(d, i) {
						return i * (w / seniordata.length) + (w / seniordata.length - barPadding) / 2 + 30;
				   })
				   .attr("y", function(d) {
						return h - (d * 2);
				   })
				   .attr("font-family", "arial")
				   .attr("font-size", "11px")
				   .attr("fill", "white");
			
			svg.append("g")
					.attr("class", "axis")
					.attr("transform", "translate(15," + (h - 20) + ")")
					.call(xAxis);
								
			svg.append("g")
					.attr("class", "axis")
					.attr("transform", "translate(15 ,-12)")
					.call(yAxis);	   
					 
			svg.append("text")
					.attr("class", "y label")
					.attr("x",30)
					.attr("y", 25)
					.text("Number of Students"); 
						   
			});	 
			</script>
		
		</body>
	</html>